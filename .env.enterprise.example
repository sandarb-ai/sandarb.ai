# =============================================================================
# Sandarb AI Governance Platform - Enterprise/On-Premises Deployment Template
# =============================================================================
#
# Use this template for deploying Sandarb within your organization's
# infrastructure (on-premises, private cloud, or custom cloud deployment).
#
# Copy this to .env and customize for your environment.
# DO NOT commit your actual .env file to version control!
#
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# PostgreSQL connection - use your organization's database server
DATABASE_URL=postgresql://sandarb:YOUR_DB_PASSWORD@your-postgres-server:5432/sandarb

# For AWS RDS:
# DATABASE_URL=postgresql://sandarb:PASSWORD@your-rds-instance.region.rds.amazonaws.com:5432/sandarb

# For Azure Database for PostgreSQL:
# DATABASE_URL=postgresql://sandarb@servername:PASSWORD@servername.postgres.database.azure.com:5432/sandarb

# For GCP Cloud SQL (via Cloud SQL Proxy):
# CLOUD_SQL_DATABASE_URL=postgresql://sandarb:PASSWORD@/sandarb?host=/cloudsql/project:region:instance

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# -----------------------------------------------------------------------------
# Generate strong secrets: openssl rand -hex 32
JWT_SECRET=YOUR_STRONG_JWT_SECRET_AT_LEAST_32_CHARS

# Emails allowed to modify data via the UI
WRITE_ALLOWED_EMAILS=admin@yourcompany.com,platform-team@yourcompany.com

# Service account secrets for SDK/API authentication
# Generate with: openssl rand -hex 16
SANDARB_UI_SECRET=YOUR_UI_SECRET
SANDARB_API_SECRET=YOUR_API_SECRET
SANDARB_A2A_SECRET=YOUR_A2A_SECRET

# -----------------------------------------------------------------------------
# PRODUCTION MODE
# -----------------------------------------------------------------------------
SANDARB_ENV=production
NODE_ENV=production

# Disable development features
SANDARB_DEV=false

# Disable seed endpoint in production (security best practice)
ALLOW_SEED_IN_PRODUCTION=false

# -----------------------------------------------------------------------------
# ENTERPRISE DOMAIN CONFIGURATION
# -----------------------------------------------------------------------------
# Set your organization's domain. Sandarb will automatically configure:
#   - UI:    https://ui.YOUR_DOMAIN
#   - API:   https://api.YOUR_DOMAIN
#   - Agent: https://agent.YOUR_DOMAIN

SANDARB_DOMAIN=governance.yourcompany.com

# CORS is auto-configured from SANDARB_DOMAIN, but you can override:
# CORS_ORIGINS=https://ui.governance.yourcompany.com,https://internal-tool.yourcompany.com

# -----------------------------------------------------------------------------
# ALTERNATIVE: Explicit URL Configuration
# -----------------------------------------------------------------------------
# If not using subdomains, or need custom URLs:

# NEXT_PUBLIC_DOMAIN=governance.yourcompany.com
# NEXT_PUBLIC_API_SUBDOMAIN=api
# NEXT_PUBLIC_AGENT_SUBDOMAIN=agent

# Or fully explicit URLs:
# NEXT_PUBLIC_API_URL=https://sandarb-api.yourcompany.com
# NEXT_PUBLIC_AGENT_URL=https://sandarb-agent.yourcompany.com
# BACKEND_URL=https://sandarb-api.yourcompany.com
# AGENT_PUBLIC_URL=https://sandarb-agent.yourcompany.com
# AGENT_BASE_URL=https://sandarb-agent.yourcompany.com

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
# Protect against abuse - adjust based on your usage patterns
RATE_LIMIT_DEFAULT=200/minute
RATE_LIMIT_SEED=5/hour
RATE_LIMIT_AUTH=30/minute

# -----------------------------------------------------------------------------
# OBSERVABILITY (Recommended for Enterprise)
# -----------------------------------------------------------------------------
# Connect to your organization's observability stack

OTEL_ENABLED=true
OTEL_SERVICE_NAME=sandarb-governance
OTEL_EXPORTER_OTLP_ENDPOINT=https://your-otel-collector.yourcompany.com:4318
OTEL_TRACES_EXPORTER=otlp
OTEL_LOGS_EXPORTER=otlp

# -----------------------------------------------------------------------------
# NETWORK CONFIGURATION
# -----------------------------------------------------------------------------
# For Kubernetes/Docker deployments
# PORT=8000
# HOST=0.0.0.0

# Agent service mode (set on the agent service container only)
# SANDARB_AGENT_SERVICE=true
